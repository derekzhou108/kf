"use strict";var accountSafeVm=avalon.define({$id:"accountSafe",step:0,successCode:1e4,userInfo:util.getStorage("userInfo")||!1,isBindEmail:0,isBindPhone:0,phoneNum:"",emailNum:"",certificationNum:"",isVerifyRealName:0,crumbPath:"/pc/index",crumbName:"首页",currentModule:"帐号安全",goService:function(module,e){window.location.href="/pc/service-module?moduleName="+encodeURIComponent(module)+"&type="+e},openLink:function(){window.location.href="/pc/real-name"}});accountSafeVm.$watch("onReady",function(){var e=this;api.securityInfo({sdkUserId:e.userInfo.user_id}).then(function(i){if(e.successCode===i.code){var a=i.data.email,n=i.data.phone,o=i.data.certification;e.emailNum=a.replace(a.substring(4,a.lastIndexOf("@")-2),"****"),e.phoneNum=n.replace(n.substring(3,8),"*****"),e.certificationNum=o.replace(o.substring(6,11),"*****"),e.isBindEmail=""===i.data.email?0:1,e.isBindPhone=""===i.data.phone?0:1,e.isVerifyRealName="1"===i.data.certification?1:0,e.step=e.isBindEmail+e.isBindPhone+e.isVerifyRealName}else dialog.errorMsg(i.msg)})});