avalon.component("ms-carousel",{template:'<div class="layui-carousel">                    <ul class="carousel" carousel-item>                        <li class="carousel-item" :for="item in @banners" data-for-rendered="@init">                            <a :if="@item.type == 1" :attr="{ href: @item.link }" target="_blank" :css="{backgroundImage: \'url(\' + @item.image_url + \')\'}"></a>                            <a :if="@item.type == 2" :attr="{ href: @item.link }" target="_self" :css="{backgroundImage: \'url(\' + @item.image_url + \')\'}"></a>                        </li>                    </ul>               </div>',defaults:{banners:[],onReady:function(){var e=this;api.carousel().then(function(t){e.banners=t.data})},init:function(){var e=this;layui.use("carousel",function(){layui.carousel.render({elem:e.$element,width:"100%",anim:"fade",arrow:"none"}),$(".layui-carousel-arrow").hide()})}}}),function(){window.api={post:function(e,t){t&&"[object Object]"===Object.prototype.toString.apply(t)&&(t.source="pc");var n=$.Deferred();return $.post(e,t).then(function(e){n.resolve(e)}),n},get:function(e,t){var n=$.Deferred();return $.get(e,t).then(function(e){1e4===e.code?n.resolve(e):(dialog.errorMsg(e.msg),n.reject(e))}),n},jsonp:function(e,t){var n=$.Deferred();return $.ajax({url:"//kssdk.ksgame.com"+e,type:"get",dataType:"jsonp",jsonp:"callback",data:t}).then(function(e){1e4===e.code?n.resolve(e):(dialog.errorMsg(e.msg),n.reject(e))}),n},upload:function(e){return this.post("/kf/upload",e)},postRecharge:function(e){return this.post("/kf/submit-recharge",e)},postBug:function(e){return this.post("/kf/submit-bug",e)},postSuggest:function(e){return this.post("/kf/submit-suggest",e)},postNetwork:function(e){return this.post("/kf/submit-network",e)},postReport:function(e){return this.post("/kf/submit-report",e)},appList:function(e){return this.post("/kf/get-app-list",e)},serverList:function(e){return this.post("/kf/get-server-list",e)},category:function(e){return this.post("/kf/category",e)},search:function(e){return this.post("/kf/search",e)},guide:function(e){return this.post("/kf/guide",e)},announcement:function(e){return this.post("/kf/announcement",e)},hot:function(e){return this.post("/kf/hot",e)},rolesList:function(e){return this.post("/wechat/roles",e)},sendVerification:function(e){return this.post("/wechat/send-verification",e)},check:function(e){return this.post("/sdk-user/check",e)},sdkGameRoles:function(e){return this.post("/sdk-user/get-game-roles",e)},sdkBindRole:function(e){return this.post("/sdk-user/bind-role",e)},validateRoleBind:function(e){return this.post("/wechat/role-bind",e)},roleUnbind:function(e){return this.post("/wechat/role-un-bind",e)},hotQuestionDetail:function(e){return this.post("/kf/hot-question-detail",e)},comment:function(e){return this.post("/kf/comment",e)},myListNum:function(e){return this.post("/kf/my-list-num",e)},carousel:function(e){return this.post("/kf/scroll",e)},keywords:function(e){return this.post("/kf/keywords",e)},login:function(e){return this.jsonp("/sdk-user/login",e)},sendCode:function(e){return this.jsonp("/sdk-user/send-sms-code",e)},reg:function(e){return this.jsonp("/sdk-user/reg",e)},findPwd:function(e){return this.jsonp("/sdk-user/find-pwd",e)},changePwd:function(e){return this.jsonp("/sdk-user/change-pwd",e)},isLogin:function(e){return this.jsonp("/sdk-user/is-login",e)},logout:function(){return this.jsonp("/sdk-user/logout")},getBindInfoByAccount:function(e){return this.post("/kf/find-bind-info-by-account",e)},getFindPWCode:function(e){return this.post("/kf/send-find-password-code",e)},checkFindPWDCode:function(e){return this.post("/kf/check-find-pwd-code",e)},setNewPw:function(e){return this.post("/kf/reset-password",e)},changePWD:function(e){return this.post("/kf/change-password",e)},getAccountCode:function(e){return this.post("/kf/send-account-code",e)},getUserAccount:function(e){return this.post("/kf/get-user-account",e)},questionDetail:function(e){return this.post("/kf/question-detail",e)},evaluationSetting:function(e){return this.post("/evaluation/settings",e)},evaluationDetail:function(e){return this.post("/evaluation/detail",e)},submitEvaluation:function(e){return this.post("/evaluation/submit-evaluation",e)},myIssueList:function(e){return this.post("/kf/my-list",e)},queryRechargeDetail:function(e){return this.post("/kf/pay-order",e)},queryRoleChannel:function(e){return this.post("/kf/role-channel",e)},success:function(e){return this.get("/src/mock/success.json")},checkPW:function(e){return this.post("/kf/check-password",e)},bindRealName:function(e){return this.post("/kf/set-certification",e)},getAccountInfo:function(e){return this.post("/kf/my-info",e)},editAccountInfo:function(e){return this.post("/kf/edit-info",e)},getSendCode:function(e){return this.post("/kf/send-code ",e)},isBindEmail:function(e){return this.post("/kf/is-bind-email",e)},isExitsEmail:function(e){return this.post("/kf/is-exits-email",e)},bindEmail:function(e){return this.post("/kf/bind-email",e)},isBindPhone:function(e){return this.post("/kf/is-bind-phone",e)},bindPhone:function(e){return this.post("/kf/bind-phone",e)},unBindPhoneEmail:function(e){return this.post("/kf/security-info",e)},getBindInfo:function(e){return this.get("/src/mock/getBindInfo.json")},uploadImg:function(e){return this.post("/kf/upload-img",e)},gameSeverList:function(e){return this.post("/kf/game-sever-list",e)},roleList:function(e){return this.post("/kf/role-list",e)},securityInfo:function(e){return this.post("/kf/get-user-security-info",e)}},window.account={dialogConfig:{type:1,title:!1,closeBtn:0,shadeClose:!1,area:["380px","535px"],skin:"account-dialog",shade:[.7,"#000"]},copyState:1,time:60,login:function(){var e=this;this.dialogConfig.area=["410px","305px"],this.dialogConfig.content='<div class="dialog-wrap">                                            <form>                                            <div class="login">                                                <div class="head">登录<div class="icon-account-close" id="loginClose"></div></div>                                                <div class="username"><input class="input" type="text" name="username" placeholder="请输入帐号或手机号" autocomplete="off"><label for="username" class="icon-user"></label></div>                                                <div class="password"><input class="input" type="password" name="password" placeholder="请输入密码" autocomplete="off"><label for="password" class="icon-password"></label></div>                                                <div class="link"><a onclick="layer.closeAll();account.forget();">忘记密码</a> <span class="line">丨</span> <a onclick="layer.closeAll();account.register();" >注册</a></div>                                                <div class="btn"><button type="submit" class="login-btn">登&nbsp;&nbsp;录</button></div>                                            </div>                                            </form>                                        </div>',this.dialogConfig.success=function(t,n){t.find("#loginClose").on("click",function(){layer.close(n)}),t.find("[name=username]").focus(),t.find("form").on("submit",function(n){n.preventDefault();var i={username:$.trim(t.find("[name=username]").val()),password:$.trim(t.find("[name=password]").val())};return i.username?i.password?(api.login(i).then(function(t){e.storeUserInfo(t.data),util.reload()}),!1):(layer.alert("请输入密码"),!1):(layer.alert("请输入手机号/帐号"),!1)})},layer.open(this.dialogConfig)},register:function(){var e=this;this.dialogConfig.area=["380px","375px"],this.dialogConfig.content='<div class="dialog-wrap">                                            <div class="login login-register">                                                <div class="head"><span class="icon-account-dialog-back" onclick="layer.closeAll();account.login();"></span>注册<div class="icon-account-close" id="loginRegisterClose"></div></div>                                                <div class="register-title clear"><span class="active register-title-phone" onclick="common.tabToggle(this);$(this).parent().nextAll().eq(0).find(\'[name=username]\').focus();"><em>手机</em></span><span class="register-title-username" onclick="common.tabToggle(this);$(this).parent().nextAll().eq(1).find(\'[name=username]\').focus();"><em>用户名</em></span></div>                                                <div class="reg-box">                                                    <form>                                                    <div class="phone clear"><input class="input" type="text" name="username" placeholder="请输入手机号码" autocomplete="off"><button type="button" onclick="account.sendCode(this,\'reg\');">发送验证码</button><label for="valicode" class="icon-phone"></label></div>                                                    <div class="valicode"><input class="input" type="text" name="sms_code" placeholder="请输入验证码" id="valicode" autocomplete="off"><label for="valicode" class="icon-valicode"></label></div>                                                    <div class="password"><input class="input" type="password" name="password" placeholder="请输入密码（6-16位）" id="password" autocomplete="off"><label for="password" class="icon-password"></label></div>                                                    <div class="arg">注册表示您同意 <a href="http://kscdn.ksgame.com/adminIP/home.html" target="_blank">《凯撒用户协议》</a><a class="account-has" onclick="layer.closeAll();account.login();">已有帐号</a></div>                                                    <div class="btn"><button type="submit" class="login-btn" id="phoneReg">注册并登录</button></div>                                                    </form>                                                </div>                                                <div class="reg-box hide">                                                    <form>                                                    <div class="username"><input class="input" type="text" name="username" placeholder="请输入用户名（6-16位）" autocomplete="off"><label for="username" class="icon-user"></label></div>                                                    <div class="password"><input class="input" type="password" name="password" placeholder="请输入密码（6-16位）" autocomplete="off"><label for="password" class="icon-password"></label></div>                                                    <div class="arg">注册表示您同意 <a href="http://kscdn.ksgame.com/adminIP/home.html" target="_blank">《凯撒用户协议》</a><a class="account-has" onclick="layer.closeAll();account.login();">已有帐号</a></div>                                                    <div class="btn"><button type="submit" class="login-btn" id="userReg">注册并登录</button></div>                                                    </form>                                                </div>                                            </div>                                        </div>',this.dialogConfig.success=function(t,n){t.find("#loginRegisterClose").on("click",function(){layer.close(n)}),t.find("[name=username]").eq(0).focus(),t.find("form").eq(0).on("submit",function(t){t.preventDefault();var n=$(this).parents(".reg-box"),i={username:$.trim(n.find("[name=username]").val()),sms_code:$.trim(n.find("[name=sms_code]").val()),password:$.trim(n.find("[name=password]").val())};return i.username?/^1(3|4|5|7|8)\d{9}$/.test(i.username)?i.sms_code?i.password?(api.reg(i).then(function(t){api.login({username:i.username,password:i.password}).then(function(t){alert(t.data),e.storeUserInfo(t.data),util.reload()})}),!1):(layer.alert("请输入密码"),!1):(layer.alert("请输入验证码"),!1):(layer.alert("手机号码格式不正确"),!1):(layer.alert("请输入手机号码"),!1)}),t.find("form").eq(1).on("submit",function(t){t.preventDefault();var n=$(this).parents(".reg-box"),i={username:$.trim(n.find("[name=username]").val()),password:$.trim(n.find("[name=password]").val())};return i.username?i.password?(api.reg(i).then(function(t){api.login({username:i.username,password:i.password}).then(function(t){e.storeUserInfo(t.data),util.reload()})}),!1):(layer.alert("请输入密码"),!1):(layer.alert("请输入用户名"),!1)})},layer.open(this.dialogConfig)},forget:function(){this.dialogConfig.area=["380px","335px"],this.dialogConfig.content='<div class="dialog-wrap">                                            <form>                                            <div class="login login-forget">                                                <div class="head"><span class="icon-account-dialog-back" onclick="layer.closeAll();account.login();"></span>忘记密码<div class="icon-account-close" id="loginForgetClose"></div></div>                                                <div class="phone clear"><input class="input" type="text" name="phone" placeholder="请输入手机号码" autocomplete="off"><button type="button" onclick="account.sendCode(this,\'find_pwd\');">发送验证码</button><label for="valicode" class="icon-phone"></label></div>                                                <div class="valicode"><input class="input" type="text" name="sms_code" placeholder="请输入验证码" autocomplete="off"><label for="valicode" class="icon-valicode"></label></div>                                                <div class="password"><input class="input" type="password" name="password" placeholder="请输入密码" autocomplete="off"><label for="password" class="icon-password"></label></div>                                                <div class="btn"><button type="submit" class="login-btn" id="findPwdBtn">确认</button></div>                                            </div>                                            </form>                                        </div>',this.dialogConfig.success=function(e,t){e.find("#loginForgetClose").on("click",function(){layer.close(t)}),e.find("[name=phone]").focus(),e.find("form").on("submit",function(t){t.preventDefault();var n={phone:$.trim(e.find("[name=phone]").val()),sms_code:$.trim(e.find("[name=sms_code]").val()),password:$.trim(e.find("[name=password]").val())};return n.phone?/^1(3|4|5|7|8)\d{9}$/.test(n.phone)?n.sms_code?n.password?(api.findPwd(n).then(function(e){layer.alert(e.msg,function(e){layer.closeAll(),account.login()})}),!1):(layer.alert("请输入密码"),!1):(layer.alert("请输入验证码"),!1):(layer.alert("手机号码格式不正确"),!1):(layer.alert("请输入手机号码"),!1)})},layer.open(this.dialogConfig)},change:function(){var e=this;this.dialogConfig.area=["410px","335px"],this.dialogConfig.content='<div class="dialog-wrap">                                            <form>                                            <div class="login change">                                                <div class="head"></span>修改密码<div class="icon-account-close" id="loginChangeClose"></div></div>                                                <div class="password"><input class="input" type="password" name="old_pwd" placeholder="请输入当前密码（6-16位字符）" autocomplete="off"></div>                                                <div class="password"><input class="input" type="password" name="new_pwd" placeholder="请输入新密码（6-16位字符）" autocomplete="off"></div>                                                <div class="password"><input class="input" type="password" name="repeat_pwd" placeholder="请再次输入新密码（6-16位字符）" autocomplete="off"></div>                                                <div class="btn"><button type="submit" class="login-btn" id="changeBtn">确认</button></div>                                            </div>                                            </form>                                        </div>',this.dialogConfig.success=function(t,n){t.find("#loginChangeClose").on("click",function(){layer.close(n)}),t.find("[name=old_pwd]").focus(),t.find("form").on("submit",function(n){n.preventDefault();var i={old_pwd:$.trim(t.find("[name=old_pwd]").val()),new_pwd:$.trim(t.find("[name=new_pwd]").val()),repeat_pwd:$.trim(t.find("[name=repeat_pwd]").val()),username:util.getStorage("userInfo").user_name};return i.old_pwd?i.new_pwd?i.new_pwd!==i.repeat_pwd?(layer.alert("两次密码输入不一致"),!1):(api.changePwd(i).then(function(t){e.logout()}),!1):(layer.alert("请输入新密码"),!1):(layer.alert("请输入当前密码"),!1)})},layer.open(this.dialogConfig)},storeUserInfo:function(e){util.setStorage("userInfo",e)},confirmLogout:function(){var e=this;layer.confirm("确认要注销吗？",function(t){api.logout().then(function(){e.logout()})})},logout:function(){util.clearStorage(),window.open("/pc/index","_self")},countDown:function(e){var t=this,n=t.time;e.innerHTML=t.time+"s",e.disabled=!0;var i=setInterval(function(){0==t.time?(clearInterval(i),e.innerHTML="发送验证码",e.disabled=!1,t.time=n):(t.time--,e.innerHTML=t.time+"s")},1e3)},sendCode:function(e,t){var n=this,i=$.trim($(e).prev().val());return i?/^1(3|4|5|7|8)\d{9}$/.test(i)?void api.sendCode({phone:i,type:t}).then(function(t){n.countDown(e)}):void layer.alert("手机号码格式不正确"):void layer.alert("请输入手机号码")}},window.dialog={successMsg:function(e,t){layer.open({type:1,title:!1,closeBtn:0,time:2e3,skin:"dialog-msg",content:t||'<div class="dialog-container"><div class="dialog-content"><span class="icon icon-success"></span>'+e+"</div></div>"})},errorMsg:function(e,t){this.successMsg.call(this,e,t||'<div class="dialog-container"><div class="dialog-content"><span class="icon icon-error"></span>'+e+"</div></div>")},confirm:function(e,t,n,i){var a=arguments,s="确定";"string"==typeof t&&(s=t);var o='<div class="dialog-container">                            <div class="dialog-content">'+e+'</div>                            <div class="dialog-btns">                                <button class="dialog-btn dialog-yes">'+s+'</button>                                <button class="dialog-btn dialog-cancel">取消</button>                            </div>                         </div>';layer.open({type:1,title:!1,closeBtn:0,skin:"dialog-confirm",content:o,success:function(e,s){e.find(".dialog-yes").on("click",function(){"function"==typeof t?t&&t():t&&"string"==typeof t&&n&&n(),layer.close(s)}),e.find(".dialog-cancel").on("click",function(){"function"==typeof t&&3===a.length?n&&n():"string"==typeof t&&4===a.length&&i&&i(),layer.close(s)})}})},detail:function(e,t){var n='<div class="dialog-detailWrap">                                <div class="dialog-detailTitle">'+e+'<span class="icon-dialog-close dialog-detailClose"></span></div>                                <div class="dialog-detailContent"><iframe frameborder="0" style="width: 100%; height:100%; margin: 0"></iframe></div>                           </div>';layer.open({type:1,title:!1,closeBtn:0,area:["500px","80%"],skin:"dialog-detail",content:n,success:function(e,n){setTimeout(function(){e.find("iframe").contents().find("body").html(t),e.find("iframe").contents().find("img").css("max-width","100%"),e.find(".dialog-detailClose").on("click",function(){layer.close(n)})},0)}})},message:function(e,t){var n='<div class="dialog-detailWrap">                                <div class="dialog-detailTitle">'+e+'<span class="icon-dialog-close dialog-detailClose"></span></div>                                <div class="dialog-messageContent">'+t+'</div>                                <div class="dialog-btnWarp dialog-btnPos dialog-ok">关闭</div>                            </div>';layer.open({type:1,title:!1,closeBtn:0,area:["377px","238px"],skin:"dialog-message",content:n,success:function(e,t){setTimeout(function(){e.find(".dialog-detailClose,.dialog-ok").on("click",function(){layer.close(t)})},0)}})}},window.common={tabToggle:function(e){var t=$(e),n=$(e).siblings(),i=$(e).index(),a=t.parent().nextAll();t.addClass("active"),n.removeClass("active"),$.each(a,function(e,t){t.style.display=e===i?"block":"none"})}},window.util={inObject:function(e,t,n){var i=!1;if(e.length<1)return i;for(var a=0;a<e.length;a++)if(e[a][n]===t){i=!0;break}return i},getQueryString:function(e){var t=window.location.search,n=new Object;if(-1!=t.indexOf("?"))for(var i=t.substr(1),a=i.split("&"),s=0;s<a.length;s++)n[a[s].split("=")[0]]=decodeURI(a[s].split("=")[1]);return n[e]},setStorage:function(e,t){window.localStorage.setItem(e,JSON.stringify(t))},getStorage:function(e){return $.parseJSON(window.localStorage.getItem(e))},removeStorage:function(e){window.localStorage.removeItem(e)},clearStorage:function(){window.localStorage.clear()},reload:function(){window.location.reload()},isPhone:function(e){return/^1(3|4|5|7|8)\d{9}$/.test(e)},isEmpty:function(e){for(var t in e)return!1;return!0},back:function(){window.history.go(-1)},flashChecker:function(){var e=0,t=0;if(document.all)try{var n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(n){e=1;var i=n.GetVariable("$version");t=parseInt(i.split(" ")[1].split(",")[0])}}catch(t){e=0}else if(navigator.plugins&&navigator.plugins.length>0){var n=navigator.plugins["Shockwave Flash"];if(n){e=1;for(var a=n.description.split(" "),s=0;s<a.length;++s)isNaN(parseInt(a[s]))||(t=parseInt(a[s]))}}return{f:e,v:t}},formDate:function(e){function t(e){return e>9?e:"0"+e}var n="";if(""!==e&&0!==e){var i=new Date(1e3*e);n=t(i.getFullYear())+"-"+t(i.getMonth()+1)+"-"+t(i.getDate())+"  "+t(i.getHours())+":"+t(i.getMinutes())+":"+t(i.getSeconds())}return n},splitArrs:function(e,t,n){for(var i=[],a=(n-1)*t,s=n*t,o=a;o<s;o++)e[o]&&i.push(e[o]);return i},randomVerificationCode:function(e){for(var t="",n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],i=0;i<e;i++)pos=Math.round(Math.random()*(n.length-1)),t+=n[pos];return t},getProvince:function(){var e=["北京市","上海市","天津市","重庆市","河北省","山西省","内蒙古自治区","辽宁省","吉林省","黑龙江省","江苏省","浙江省","安徽省","福建省","江西省","山东省","河南省","湖北省","湖南省","广东省","广西壮族自治区","海南省","四川省","贵州省","云南省","西藏自治区","陕西省","甘肃省","宁夏回族自治区","青海省","新疆维吾尔族自治区","香港","澳门","台湾"];return e=e.map(function(e,t){return{val:e,text:e}})},getCity:function(e){if(""!==e){return{"北京市":["北京市市辖区"],"天津市":["天津市市辖区","天津市郊县"],"河北省":["石家庄市","唐山市","秦皇岛市","邯郸市","邢台市","保定市","张家口市","承德市","沧州市","廊坊市","衡水市"],"山西省":["太原市","大同市","阳泉市","长治市","晋城市","朔州市","晋中市","运城市","忻州市","临汾市","吕梁市"],"内蒙古自治区":["呼和浩特市","包头市","乌海市","赤峰市","通辽市","鄂尔多斯市","呼伦贝尔市","巴彦淖尔市","乌兰察布市","兴安盟","锡林郭勒盟","阿拉善盟"],"辽宁省":["沈阳市","大连市","鞍山市","抚顺市","本溪市","丹东市","锦州市","营口市","阜新市","辽阳市","盘锦市","铁岭市","朝阳市","葫芦岛市"],"吉林省":["长春市","吉林市","四平市","辽源市","通化市","白山市","松原市","白城市","延边朝鲜族自治州"],"黑龙江省":["哈尔滨市","齐齐哈尔市","鸡西市","鹤岗市","双鸭山市","大庆市","伊春市","佳木斯市","七台河市","牡丹江市","黑河市","绥化市","大兴安岭地区"],"上海市":["上海市市辖区","上海市郊县"],"江苏省":["南京市","无锡市","徐州市","常州市","苏州市","南通市","连云港市","淮安市","盐城市","扬州市","镇江市","泰州市","宿迁市"],"浙江省":["杭州市","宁波市","温州市","嘉兴市","湖州市","绍兴市","金华市","衢州市","舟山市","台州市","丽水市"],"安徽省":["合肥市","芜湖市","蚌埠市","淮南市","马鞍山市","淮北市","铜陵市","安庆市","黄山市","滁州市","阜阳市","宿州市","六安市","亳州市","池州市","宣城市"],"福建省":["福州市","厦门市","莆田市","三明市","泉州市","漳州市","南平市","龙岩市","宁德市"],"江西省":["南昌市","景德镇市","萍乡市","九江市","新余市","鹰潭市","赣州市","吉安市","宜春市","抚州市","上饶市"],"山东省":["济南市","青岛市","淄博市","枣庄市","东营市","烟台市","潍坊市","济宁市","泰安市","威海市","日照市","莱芜市","临沂市","德州市","聊城市","滨州市","菏泽市"],"河南省":["郑州市","开封市","洛阳市","平顶山市","安阳市","鹤壁市","新乡市","焦作市","濮阳市","许昌市","漯河市","三门峡市","南阳市","商丘市","信阳市","周口市","驻马店市","济源市"],"湖北省":["武汉市","黄石市","十堰市","宜昌市","襄阳市","鄂州市","荆门市","孝感市","荆州市","黄冈市","咸宁市","随州市","恩施土家族苗族自治州","仙桃市","潜江市","天门市","神农架林区"],"湖南省":["长沙市","株洲市","湘潭市","衡阳市","邵阳市","岳阳市","常德市","张家界市","益阳市","郴州市","永州市","怀化市","娄底市","湘西土家族苗族自治州"],"广东省":["广州市","韶关市","深圳市","珠海市","汕头市","佛山市","江门市","湛江市","茂名市","肇庆市","惠州市","梅州市","汕尾市","河源市","阳江市","清远市","东莞市","中山市","潮州市","揭阳市","云浮市"],"广西壮族自治区":["南宁市","柳州市","桂林市","梧州市","北海市","防城港市","钦州市","贵港市","玉林市","百色市","贺州市","河池市","来宾市","崇左市"],"海南省":["海口市","三亚市","三沙市","儋州市","五指山市","琼海市","文昌市","万宁市","东方市","定安县","屯昌县","澄迈县","临高县","白沙黎族自治县","昌江黎族自治县","乐东黎族自治县","陵水黎族自治县","保亭黎族苗族自治县","琼中黎族苗族自治县"],"重庆市":["重庆市市辖区","重庆市郊县"],"四川省":["成都市","自贡市","攀枝花市","泸州市","德阳市","绵阳市","广元市","遂宁市","内江市","乐山市","南充市","眉山市","宜宾市","广安市","达州市","雅安市","巴中市","资阳市","阿坝藏族羌族自治州","甘孜藏族自治州","凉山彝族自治州"],"贵州省":["贵阳市","六盘水市","遵义市","安顺市","毕节市","铜仁市","黔西南布依族苗族自治州","黔东南苗族侗族自治州","黔南布依族苗族自治州"],"云南省":["昆明市","曲靖市","玉溪市","保山市","昭通市","丽江市","普洱市","临沧市","楚雄彝族自治州","红河哈尼族彝族自治州","文山壮族苗族自治州","西双版纳傣族自治州","大理白族自治州","德宏傣族景颇族自治州","怒江傈僳族自治州","迪庆藏族自治州"],"西藏自治区":["拉萨市","日喀则市","昌都市","林芝市","山南地区","那曲地区","阿里地区"],"陕西省":["西安市","铜川市","宝鸡市","咸阳市","渭南市","延安市","汉中市","榆林市","安康市","商洛市"],"甘肃省":["兰州市","嘉峪关市","金昌市","白银市","天水市","武威市","张掖市","平凉市","酒泉市","庆阳市","定西市","陇南市","临夏回族自治州","甘南藏族自治州"],"青海省":["西宁市","海东市","海北藏族自治州","黄南藏族自治州","海南藏族自治州","果洛藏族自治州","玉树藏族自治州","海西蒙古族藏族自治州"],"宁夏回族自治区":["银川市","石嘴山市","吴忠市","固原市","中卫市"],"新疆维吾尔族自治区":["乌鲁木齐市","克拉玛依市","吐鲁番市","哈密地区","昌吉回族自治州","博尔塔拉蒙古自治州","巴音郭楞蒙古自治州","阿克苏地区","克孜勒苏柯尔克孜自治州","喀什地区","和田地区","伊犁哈萨克自治州","塔城地区","阿勒泰地区","石河子市","阿拉尔市","图木舒克市","五家渠市","北屯市","铁门关市","双河市","可克达拉市"],"台湾":["台北市","高雄市"],"香港":["中西区","湾仔区","东区","南区","油尖旺区","深水埗区","九龙城区","黄大仙区","观塘区","荃湾区","屯门区","元朗区","北区","大埔区","西贡区","沙田区","葵青区","离岛区"],"澳门":["花地玛堂区","花王堂区","望德堂区","大堂区","风顺堂区","嘉模堂区","路凼填海区","圣方济各堂区"]}[e].map(function(e,t){return{val:e,text:e}})}}},layui.use("layer",function(){$(function(){var e=util.getStorage("userInfo");e&&api.isLogin({userinfo:JSON.stringify(e)}).then(function(e){1e4===e.code||util.removeStorage("userInfo")},function(){util.removeStorage("userInfo")})});var e;$(document).ajaxStart(function(){e=layer.load()}),$(document).ajaxStop(function(){layer.close(e)}),$(document).ajaxError(function(){layer.msg("请求错误")})})}(),avalon.directive("date",{diff:function(e,t,n){var i=this;layui.use("laydate",function(){layui.laydate.render({elem:i.node.dom,min:"2000-01-01",max:0,format:"yyyy-MM-dd HH:mm:ss",type:"datetime",theme:"#f76c35"})})}}),avalon.directive("datetime",{diff:function(e,t,n){var i=this;layui.use("laydate",function(){layui.laydate.render({elem:i.node.dom,max:0,format:"yyyy-MM-dd",type:"date",theme:"#f76c35"})})}}),avalon.directive("upload",{diff:function(e,t,n){var i=this;document.all&&!window.atob&&$(i.node.dom).on("click",function(){util.flashChecker().hasFlash||dialog.detail("提示",'未检测到flash，上传图片请先安装flash插件 <a target="_blank" href="https://get2.adobe.com/cn/flashplayer/">https://get2.adobe.com/cn/flashplayer/</a>')}),setTimeout(function(){var e=WebUploader.create({swf:"http://cdn.staticfile.org/webuploader/0.1.5/Uploader.swf",server:"http://webuploader.duapp.com/server/fileupload.php",pick:i.node.dom,resize:!1,accept:{title:"Images",extensions:"gif,jpg,jpeg,bmp,png",mimeTypes:"image/*"},thumb:{width:1,height:1,quality:100,allowMagnify:!0,crop:!0,type:"image/jpeg"}});setTimeout(function(){$(e.options.pick).find(".webuploader-pick").next().css({height:"100%",width:"100%",top:0,left:0,opacity:0,filter:"alpha(opacity=0)"})},0),e.on("fileQueued",function(t){e.makeThumb(t,function(t,n){api.upload({pId:util.getStorage("app").pId,sdkUserId:util.getStorage("userInfo").user_id,image:n}).then(function(t){e.reset(),i.vm.$fire("upload",t)})})})},100)}}),avalon.directive("uploadimg",{diff:function(e,t,n){var i=this;document.all&&!window.atob&&$(i.node.dom).on("click",function(){util.flashChecker().hasFlash||dialog.detail("提示",'未检测到flash，上传图片请先安装flash插件 <a target="_blank" href="https://get2.adobe.com/cn/flashplayer/">https://get2.adobe.com/cn/flashplayer/</a>')}),setTimeout(function(){var e=WebUploader.create({swf:"http://cdn.staticfile.org/webuploader/0.1.5/Uploader.swf",server:"http://webuploader.duapp.com/server/fileupload.php",pick:i.node.dom,resize:!1,accept:{title:"Images",extensions:"gif,jpg,jpeg,bmp,png",mimeTypes:"image/jpeg,image/gif,image/png"},thumb:{width:1,height:1,quality:100,allowMagnify:!0,crop:!0,type:"image/jpeg"}});setTimeout(function(){$(e.options.pick).find(".webuploader-pick").next().css({height:"100%",width:"100%",top:0,left:0,opacity:0,filter:"alpha(opacity=0)"})},0),e.on("fileQueued",function(t){e.makeThumb(t,function(t,n){api.uploadImg({img_data:n}).then(function(t){console.log(t),e.reset(),i.vm.$fire("uploadimgDone",t)})})})},10)}}),avalon.component("ms-footer",{template:'<footer class="ks-footer">    <section class="ks-container">        <section class="ks-logo">            <img src="http://kscdn.ksgame.com/ksgame/pc2/dist/img/foreground/logo.png?t=1506679711687" alt="凯撒文化" width="163" height="60">            <a target="_blank" href="https://szcert.ebs.org.cn/a2ddba58-87e3-416f-be69-215733171b30" ><img src="http://kscdn.ksgame.com/ksgame/pc2/dist/img/foreground/newGovIcon.gif" alt="" style="margin-top: 15px;"></a>        </section>        <section class="ks-content">            <menu class="menu u-clearfix">                <ul>                    <li class="item">                        <a href="http://www.kaiser.com.cn" target="_blank">企业首页</a>                    </li>                    <li class="item">                        <a href="http://www.kaiser.com.cn" target="_blank">公司简介</a>                    </li>                    <li class="item">                        <a href="http://www.kaiser.com.cn" target="_blank">人才招聘</a>                    </li>                    <li class="item">                        <a href="http://www.kaiser.com.cn" target="_blank">法律说明</a>                    </li>                </ul>            </menu>            <p class="copyright"><a href="http://www.ccm.gov.cn/" style="color:#b5b5b5" target="_blank">粤网文（2017）3800-729号</a>    增值电信业务经营许可证：粤B2-20170497   <a href="http://www.miitbeian.gov.cn" style="color:#b5b5b5" target="_blank">粤ICP备17047563号-2</a></p>            <p class="">                <a target="_blank" href="http://szcert.ebs.org.cn/a2ddba58-87e3-416f-be69-215733171b30"><img style="width: 16px;position: relative;top: 3px;" src="http://kscdn.ksgame.com/ksgame/pc2/dist/img/foreground/icon_yuewangga1.png" alt=""></a>                <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=44030502001339" style="color: #b5b5b5;text-decoration: underline;">粤公网安备 44030502001339号</a>            </p>            <p class="copyright">Copyright © 2017 jinchiniao. All rights reserved.</p>            <p><br/></p>            <p class="tip">健康游戏公告 ：<br/>                <span class="tip-item">抵制不良游戏</span><span class="tip-item">拒绝盗版游戏</span><span class="tip-item">注意自我保护</span> <span>谨防受骗上当</span><br/>                <span class="tip-item">适度游戏益脑</span><span class="tip-item">沉迷游戏伤身</span><span class="tip-item">合理安排时间</span><span class="tip-item">享受健康生活</span></p>        </section>        <section class="ks-watch">            <ul class="watch-list">                <li class="watch-item"><img src="http://kscdn.ksgame.com/ksgame/pc2/dist/img/foreground/qrcode-wechat.png?t=1506679711687" alt="凯撒官方微信"><span class="desc">关注凯撒官方微信</span></li>                <li class="watch-item"><img src="http://kscdn.ksgame.com/ksgame/pc2/dist/img/foreground/qrcode-weibo.png?t=1506679711687"alt="凯撒官方微博"><span class="desc">关注凯撒官方微博</span></li>            </ul>        </section>    </section></footer>'}),avalon.component("ms-marquee",{template:'<div class="wrap">                    <div class="inner marquee clear">                        <div class="icon-marquee"></div>                        <ul class="marquee-list" id="marquee">                            <li class="marquee-item" :for="item in @marqueeList"><a href="javascript:;" :click="openDetail(item)">{{ @item.title }}</a></li>                        </ul>                    </div>              </div>',defaults:{timer:!1,speed:3e3,list:[],$computed:{marqueeList:function(){return this.list.concat(this.list[0]||[])}},onInit:function(){var e=this;navVm.$watch("pId",function(t){api.announcement({pId:t,source:"pc"}).then(function(t){t.data.length&&(e.list=t.data,e.speed=t.data[0]&&t.data[0].frequency||5e3,setTimeout(function(){e.init()},0))})})},init:function(){var e=this,t=$("#marquee"),n=t.height(),i=t[0].scrollHeight;this.timer=setInterval(function(){t.animate({scrollTop:t[0].scrollTop+n},"fast",function(){t[0].scrollTop+n===i&&(t[0].scrollTop=0)})},e.speed)},openDetail:function(e){1===parseInt(e.type,10)?window.location.href=e.link:dialog.detail(e.title,e.desc)},onDispose:function(){clearInterval(this.timer)}}});var navVm;avalon.component("ms-nav",{
template:'<div class="wrap nav">                <div class="inner clear">                    <div class="nav-logo icon-logo"></div>                    <div class="nav-secondWrap" :visible="@secondShow" :css="{height: @secondHeight }"></div>                    <ul class="nav-list clear" :class="{ active: @secondShow }" :mouseover=" @secondShow = true " :mouseout=" @secondShow = false ">                        <li class="nav-item" :class="[@item.active ? \'active\' : \'\', @item.disabled ? \'disabled\' : \'\' ]" :for="(key, item) in @navList" :mouseover="@mouseoverLine(key, $event)" :mouseout="@mouseoutLine()">                            <a :click="@navJump(@item)">{{@item.title}}</a>                        </li>                        <li class="nav-line" id="navLine"></li>                        <li class="nav-second">                                <ul class="nav-secondList" :for="ul in navSecondList | limitBy(1)" :mouseover="@mouseoverLine(1)" :mouseout="@mouseoutLine()">                                    <li class="nav-secondItem" :for="li in ul.slice(0, 6)" ><a :click="@issueJump(@li)" >{{ @li.name }}</a></li>                                </ul>                                <ul class="nav-secondList" :for="ul in navSecondList | limitBy(1,1)" :mouseover="@mouseoverLine(2)" :mouseout="@mouseoutLine()">                                    <li class="nav-secondItem" :for="li in ul" :class="@li.disabled ? \'disabled\' : \'\' "><a :click="@navJump(@li)">{{ @li.title }}</a></li>                                </ul>                                <ul class="nav-secondList" :mouseover="@mouseoverLine(3)" :mouseout="@mouseoutLine()">                                    <li class="nav-secondItem"><a :click="@goIssue(0)">充值问题</a></li>                                    <li class="nav-secondItem"><a :click="@goIssue(3)">登录问题</a></li>                                    <li class="nav-secondItem"><a :click="@goIssue(1)">游戏问题</a></li>                                    <li class="nav-secondItem"><a :click="@goIssue(4)">举报申诉</a></li>                                    <li class="nav-secondItem"><a :click="@goIssue(2)">意见反馈</a></li>                                </ul>                                <ul class="nav-secondList" :mouseover="@mouseoverLine(4)" :mouseout="@mouseoutLine()">                                    <li class="nav-secondItem"><a :click="@jumpValidate(\'account-info\')">我的资料</a></li>                                    <li class="nav-secondItem"><a :click="@jumpValidate(\'issue-table\')">我的提单</a></li>                                    <li class="nav-secondItem"><a :click="@jumpValidate(\'bind-role-done\')">绑定角色</a></li>                                    <li class="nav-secondItem"><a :click="@jumpValidate(\'service-module?moduleName=查询充值明细&type=8\')">我的充值</a></li>                                    <li class="nav-secondItem"><a :click="@jumpValidate(\'account-safe\')">帐号安全</a></li>                                </ul>                        </li>                    </ul>                    <div class="nav-btns" :if="!@userInfo" :hover="\'active\'">                        <a class="nav-btn" :click="login">登录</a>                        <a class="nav-btn" :click="register">注册</a>                        <div class="nav-menu noLogin">                            <div class="nav-handle">                                <p>登录后可查看您的具体信息哦！</p>                                <p>（包括提单、角色、充值等）</p>                            </div>                            <div class="nav-action clear" :click="@goCenter"><a class="nav-actionItem">进入个人中心</a></div>                        </div>                    </div>                    <div class="nav-userInfo" :if="@userInfo" :hover="\'active\'">                        \x3c!--<span class="nav-avatar" style="background: url(/dist/img/avatar.png)"></span>--\x3e<span>您好！{{ @userInfo && @userInfo.user_name}}</span>                        <div class="nav-menu">                            <div class="nav-handle clear" :click="@goIssueTable">                                <div class="nav-handleItem">                                    <div class="nav-handleTitle">{{ @myListNum.pending }}</div>                                    <div class="nav-handleText">待解决</div>                                </div>                               <div class="nav-handleItem">                                    <div class="nav-handleTitle">{{ @myListNum.scoring }}</div>                                    <div class="nav-handleText">待评分</div>                               </div>                                <div class="nav-handleItem nav-handleItem_done">                                    <div class="nav-handleTitle">{{ @myListNum.done }}</div>                                    <div class="nav-handleText">已解决</div>                                </div>                            </div>                            <div class="nav-action clear">                                <a class="nav-actionItem" :click="goCenter">进入个人中心</a><a class="nav-actionItem" :click="logout">退出</a>                            </div>                        </div>                    </div>                    <ul class="nav-gameList" :hover="\'active\'">                       <li class="nav-gameArrow"></li>                       <li class="nav-gameItem" :for="(key, item) in @appsOrderBy" :click="@selectApp(key, item)">                           <span class="nav-gameIcon" :css="{backgroundImage: \'url(\' + @item.icon + \')\' }"></span>{{@item.appname}}                        </li>                    </ul>                </div>            </div>',defaults:{userInfo:util.getStorage("userInfo")||!1,active:0,navList:[{title:"首页",href:"/pc/index",active:!1,disabled:!1},{title:"常见问题",href:"/pc/index?jump=category",active:!1,disabled:!1},{title:"自助服务",href:"/pc/service",active:!1,disabled:!1},{title:"联系客服",href:"/pc/select-issue",active:!1,disabled:!1,userInfo:!0},{title:"个人中心",href:"/pc/bind-role-done",active:!1,disabled:!1,userInfo:!0}],navSecondList:[[],[{title:"帐号类",href:"/pc/service?type=1",disabled:!1},{title:"安全类",href:"/pc/service?type=2",disabled:!1},{title:"查询类",href:"/pc/service?type=3",disabled:!1}]],category:[],apps:[],appsOrderBy:[],pId:"",myListNum:{},secondShow:!1,secondHeight:"",issueJump:function(e){window.location.href="/pc/issue-list?id="+e.cId+"&text="+encodeURIComponent(e.name)},navJump:function(e){e.href&&!e.userInfo&&(window.location.href=e.href),e.href&&e.userInfo&&(this.userInfo?window.location.href=e.href:account.login())},onInit:function(e){this.navList[this.active].active=!0,navVm=e.vmodel},onReady:function(){this.$watch("apps",function(e){var t=this,n=util.getStorage("app"),i=util.getQueryString("pId");setTimeout(function(){if(i)t.pId=i;else{var a=n&&n.pId||"",s=util.inObject(e,a,"pId");e.length&&s?t.pId=a:(t.pId=e[0].pId,util.setStorage("app",e[0]))}e.length&&e.forEach(function(i,a){if(i.pId===t.pId){n||util.setStorage("app",i.$model);var s=e.slice();s.splice(a,1),s.unshift(i.$model),t.appsOrderBy=s}}),api.category({pId:t.pId,source:"pc",pageSize:12}).then(function(e){t.navSecondList.set(0,e.data),t.category=e.data,setTimeout(function(){t.secondHeight=$(".nav-second").height()+"px"},0)})},0)}),this.initLine();var e=this;api.appList().then(function(t){e.apps=t.data});var t=util.getStorage("userInfo");t&&api.myListNum({sdkUserId:t.user_id}).then(function(t){e.myListNum=t.data})},mouseoverLine:function(e,t){var n=(t&&t.target.offsetWidth||110)*e;$("#navLine").css("left",n)},mouseoutLine:function(){$("#navLine").css("left",this.initLine())},initLine:function(){var e;return function(){if(!e){var t,n=$("#navLine").outerWidth(!0);this.navList.forEach(function(e,n){e.active&&(t=n)}),e=n*t,$("#navLine").css("left",e)}return e}}(),selectApp:function(e,t){0!==e&&(util.setStorage("app",t.$model),util.reload())},goIssue:function(e){this.userInfo?util.getStorage("role")?window.location.href="/pc/issue?type="+e:dialog.confirm("请先选择角色",function(){window.location.href="/pc/bind-role-done?to="+e}):account.login()},goCenter:function(){this.userInfo?window.location.href="/pc/bind-role-done":account.login()},goIssueTable:function(){window.location.href="/pc/issue-table"},jumpValidate:function(e){this.userInfo?window.location.href="/pc/"+e:account.login()},login:function(){account.login()},register:function(){account.register()},logout:function(){account.logout()}}}),avalon.component("ms-paging",{template:'<div class="paging"></div>',defaults:{count:0,limit:10,curr:1,jump:avalon.noop,render:function(){var e=this;layui.use("laypage",function(t){var laypage=layui.laypage;e.count/e.limit>1&&laypage.render({elem:e.$element,count:e.count,curr:e.curr,limit:e.limit,theme:"#ff6d33",jump:function(t,n){n||e.jump(t)}})})},onReady:function(e){this.render()},onViewChange:function(e){this.render()}}}),avalon.component("ms-qrcode",{template:'<div class="qrcode">                    <div class="qrcode-wx icon-wx" :hover="\'active\'">                        <div class="icon-wx-qrcode"></div>                    </div>                    <div class="qrcode-qq icon-qq" :hover="\'active\'">                        <div class="qq-warp">                            <div class="qq-text">                            <p>安卓-1群：</p>                            <p>414279620</p>                            <p class="u-mt6">安卓-2群：</p>                            <p>331714736</p>                            <p class="u-mt6">iOS-1群：</p>                            <p>894061926</p>                            </div>                            <div class="mark">凯撒官方QQ群</div>                        </div>                    </div>                </div>',defaults:{}}),avalon.component("ms-search",{template:'<div class="wrap">                    <form class="inner search" :submit="@submit | prevent">                        <input type="text" class="search-input" placeholder="请输入您遇到的问题关键字" :duplex="@search">                        <input type="submit" class="search-submit" value="搜索">                        <span class="search-hotTitle">热门搜索：</span>                        <ul class="search-hot">                            <li class="search-hotItem" :for="item in @list"><a  :click="href( @item )" >{{@item}}</a></li>                        </ul>                    </form>                </div>',defaults:{search:"",list:[],onReady:function(){var e=this;api.keywords().then(function(t){e.list=t.data})},href:function(e){window.location.href="/pc/issue-list?search="+encodeURIComponent(e)},submit:function(){var e=$.trim(this.search);if(!e)return dialog.errorMsg("请输入搜索内容"),!1;window.location.href="/pc/issue-list?search="+encodeURIComponent(e)}}}),avalon.component("ms-select",{template:'<select :attr="{ \'lay-filter\' : $id }">                    <option value="">{{ placeholder }}</option>                    <option :attr="{ value: @item.val, selected: @item.val === val}" :for="item in data">{{ @item.text }}</option>               </select>',defaults:{data:[],val:"",key:"",placeholder:"--请选择--",cbSelect:avalon.noop,render:function(){var e=this;layui.use("form",function(){var t=layui.form;t.render(),t.on("select("+e.$id+")",function(t){e.cbSelect(t,e.key)})})},onReady:function(){this.render()},onViewChange:function(){this.render()}}});