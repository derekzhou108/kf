"use strict";var bindRoleVm=avalon.define({$id:"bindRole",fillServerList:[],serverList:[],systemList:[{val:1,text:"IOS"},{val:2,text:"安卓"}],platformList:[{val:1,text:"凯撒官方"},{val:2,text:"应用宝"},{val:3,text:"其他"}],app:"",pId:0,system:0,platform:0,guide:"",cbSelect:function(t,e){if(this[e]=parseInt(t.value||0,10),"pId"===e){var i=this.serverList.toJSON().filter(function(e){return parseInt(e.pId,10)===parseInt(t.value,10)});this.app=i[0]}},openGuide:function(){dialog.detail("游戏帐号所属平台问题",this.guide)},next:function(){var t;t=1===this.system?this.app.app_list.ios:this.app.app_list.android,2===this.system&&1!==this.platform?window.location.href="/pc/bind-role-validate?appId="+t:window.location.href="/pc/bind-role-select?appId="+t+"&system="+this.system}});bindRoleVm.$watch("onReady",function(){var t=function(t){return t.length?t.map(function(t){return{val:t.pId,text:t.appname}}):[]};setTimeout(function(){navVm.$watch("apps",function(e){bindRoleVm.serverList=e,bindRoleVm.fillServerList=t(e)})},0),api.guide().then(function(t){bindRoleVm.guide=t.data.value})});